function initBenefitsToggle(){const e=document.getElementById("benefitsToggle"),t=document.getElementById("benefitsSidebar");e&&t&&(e.addEventListener("click",(function(){t.classList.toggle("mobile-visible");const e=this.querySelector(".toggle-text"),o=this.querySelector(".toggle-icon");t.classList.contains("mobile-visible")?(e.textContent="Hide Benefits",o.textContent="▲",this.style.marginBottom="0"):(e.textContent="Show Benefits",o.textContent="▼",this.style.marginBottom="2rem")})),document.addEventListener("click",(function(o){if(window.innerWidth<=968){const n=t.contains(o.target),s=e.contains(o.target);n||s||!t.classList.contains("mobile-visible")||(t.classList.remove("mobile-visible"),e.querySelector(".toggle-text").textContent="Show Benefits",e.querySelector(".toggle-icon").textContent="▼",e.style.marginBottom="2rem")}})),window.addEventListener("resize",(function(){window.innerWidth>968&&(t.classList.remove("mobile-visible"),e.querySelector(".toggle-text").textContent="Show Benefits",e.querySelector(".toggle-icon").textContent="▼")})))}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".hamburger-btn"),t=document.querySelector(".nav-menu");e&&t&&(e.addEventListener("click",(function(){t.classList.toggle("active");const e=this.querySelectorAll("span");t.classList.contains("active")?(e[0].style.transform="rotate(45deg) translate(6px, 6px)",e[1].style.opacity="0",e[2].style.transform="rotate(-45deg) translate(6px, -6px)"):(e[0].style.transform="none",e[1].style.opacity="1",e[2].style.transform="none")})),document.querySelectorAll(".nav-btn").forEach((o=>{o.addEventListener("click",(()=>{t.classList.remove("active");const o=e.querySelectorAll("span");o[0].style.transform="none",o[1].style.opacity="1",o[2].style.transform="none"}))})));const o=document.querySelectorAll(".fade-in");if(o.length>0){const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("visible")}))}),{threshold:.1});o.forEach((t=>e.observe(t)))}const n=document.querySelectorAll(".impact-number");if(n.length>0){const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const o=t.target,n=+o.getAttribute("data-count");!function(e,t){let o;o=t<=100?1500:t<=1e3?2e3:2500;const n=performance.now();function s(r){const i=r-n,c=Math.min(i/o,1),l=1-Math.pow(1-c,4),a=Math.floor(l*t);e.textContent=a.toLocaleString(),c<1?requestAnimationFrame(s):e.textContent=t.toLocaleString()}e.textContent="0",requestAnimationFrame(s)}(o,n),e.unobserve(o)}}))}),{threshold:.5});n.forEach((t=>e.observe(t)))}const s=document.getElementById("subscribe-form"),r=document.getElementById("success-modal");if(s&&r){const e=r.querySelector(".close-modal"),t=r.querySelector(".btn-continue");s.addEventListener("submit",(function(e){e.preventDefault(),function(e){const t=e.querySelector(".submit-btn"),o=t.querySelector(".btn-text").textContent,n=e.querySelector('input[type="text"]').value;t.querySelector(".btn-text").textContent="Subscribing...",t.disabled=!0,setTimeout((()=>{t.querySelector(".btn-text").textContent=o,t.disabled=!1,function(e){const t=r.querySelector(".modal-body p");e&&""!==e.trim()&&(t.innerHTML=`Thank you <strong>${e}</strong> for joining Thanks Buddy! You're now part of our growing community of eco-warriors.`);r.classList.add("show"),document.body.style.overflow="hidden"}(n),e.reset(),e.querySelectorAll(".input-container").forEach((e=>{e.classList.remove("focused")}))}),1500)}(this)})),[e,t].forEach((e=>{e&&e.addEventListener("click",i)})),r.addEventListener("click",(function(e){e.target===this&&i()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&r.classList.contains("show")&&i()}));s.querySelectorAll(".form-control").forEach((e=>{e.addEventListener("focus",(function(){this.parentElement.classList.add("focused")})),e.addEventListener("blur",(function(){""===this.value&&this.parentElement.classList.remove("focused")})),""!==e.value&&e.parentElement.classList.add("focused")}))}function i(){r.classList.remove("show"),document.body.style.overflow="";r.querySelector(".modal-body p").textContent="Thank you for joining Thanks Buddy! You're now part of our growing community of eco-warriors. We'll send you a welcome email shortly with your first set of eco-tips."}const c=document.querySelector(".hero-video");if(c){c.addEventListener("error",(function(){const e=document.querySelector(".hero");e&&(e.style.backgroundImage="url(https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80)",e.style.backgroundSize="cover",e.style.backgroundPosition="center",c.style.display="none")}));try{c.muted=!0,c.play().catch((()=>{}))}catch(e){}}const l=document.getElementById("contact-form");l&&l.addEventListener("submit",(function(e){e.preventDefault(),alert("Thank you for your message! We'll get back to you soon."),this.reset()}))})),document.addEventListener("DOMContentLoaded",(function(){initBenefitsToggle()}));let lastScrollY=window.scrollY;const navbar=document.querySelector(".navbar");function fixHeroVideo(){const e=document.querySelector(".hero-video"),t=document.querySelector(".hero");if(!e||!t)return;const o=window.innerWidth<=768;window.innerWidth>768&&window.innerWidth;e.classList.remove("mobile-zoom"),e.style.width="",e.style.height="",e.style.objectFit="",e.style.objectPosition="",o?(e.classList.add("mobile-zoom"),e.style.width="100%",e.style.height="100%",e.style.objectFit="cover",e.style.objectPosition="center center"):(e.style.width="100%",e.style.height="100%",e.style.objectFit="cover",e.style.objectPosition="center center"),e.addEventListener("error",(function(){t.style.backgroundImage="url(https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80)",t.style.backgroundSize="cover",t.style.backgroundPosition="center",e.style.display="none"}))}function fixHeroVideo(){const e=document.querySelector(".hero-video"),t=document.querySelector(".hero");if(!e||!t)return;const o=window.innerWidth<=768;e.classList.remove("mobile-fix"),o&&e.classList.add("mobile-fix"),e.addEventListener("error",(function(){t.style.backgroundImage="url(https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80)",t.style.backgroundSize="cover",t.style.backgroundPosition="center",e.style.display="none"}))}navbar&&window.addEventListener("scroll",(()=>{const e=window.scrollY;e>100&&e>lastScrollY?navbar.classList.add("hidden"):navbar.classList.remove("hidden"),lastScrollY=e})),document.addEventListener("DOMContentLoaded",(function(){fixHeroVideo(),window.addEventListener("resize",fixHeroVideo)}));